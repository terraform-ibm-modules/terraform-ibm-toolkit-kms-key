id: github.com/terraform-ibm-modules/terraform-ibm-toolkit-kms-key
name: ibm-kms-key
alias: kms-key
type: terraform
description: Module to lookup or create a KMS key
tags:
  - kms
  - key
versions:
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
      - name: provision_key_rotation_policy
        type: bool
        description: >-
          Flag indicating that the key rotation policy should be provisioned. If
          false then a rotation policy will not be created.
        default: false
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: guid
      - name: kms_public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: public_url
      - name: kms_private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: private_url
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
      - name: name_prefix
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        scope: global
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: '3'
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
    version: v1.5.4
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: guid
      - name: kms_public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: public_url
      - name: kms_private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: private_url
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
      - name: name_prefix
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        scope: global
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: '3'
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
    version: v1.5.3
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: guid
      - name: kms_public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: public_url
      - name: kms_private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        moduleRef:
          id: kms
          output: private_url
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
      - name: name_prefix
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        scope: global
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: '3'
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
    version: v1.5.2
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_public_url
        moduleRef:
          id: kms
          output: public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_private_url
        moduleRef:
          id: kms
          output: private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: >-
          3 validation { condition = var.rotation_interval >= 1 &&
          var.rotation_interval <= 12 error_message = The rotation interval must
          be 1 to 12 months. }
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
        optional: true
    version: v1.5.1
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    providers:
      - name: ibm
        source: ibm-cloud/ibm
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_public_url
        moduleRef:
          id: kms
          output: public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_private_url
        moduleRef:
          id: kms
          output: private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: 3
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
        optional: true
    version: v1.5.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_public_url
        moduleRef:
          id: kms
          output: public_url
        type: string
        description: The public url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: kms_private_url
        moduleRef:
          id: kms
          output: private_url
        type: string
        description: The private url of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: 3
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
        optional: true
    version: v1.4.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
      - name: kms_public_url
        description: The public url of the kms instance
      - name: kms_private_url
        description: The private url of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: 3
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
      - name: force_delete
        type: bool
        description: Flag indicating that 'force' should be applied to key on delete
        default: true
        optional: true
    version: v1.3.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-kms
            version: '>= 0.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: 3
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
    version: v1.2.1
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
      - name: rotation_interval
        type: number
        description: The interval in months that a root key needs to be rotated.
        default: 3
        optional: true
      - name: dual_auth_delete
        type: bool
        description: >-
          Flag indicating that the key requires dual authorization to be
          deleted.
        default: false
        optional: true
    version: v1.2.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: name_prefix
        scope: global
        type: string
        description: >-
          The name_prefix used to build the name if one is not provided. If used
          the name will be `{name_prefix}-{label}`
        default: base
        optional: true
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
      - name: label
        type: string
        description: >-
          The label used to build the name if one is not provided. If used the
          name will be `{name_prefix}-{label}`
        default: key
        optional: true
    version: v1.1.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
    version: v1.0.4
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
    variables:
      - name: kms_id
        moduleRef:
          id: kms
          output: guid
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        scope: global
        type: string
        description: The IBM Cloud api token
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
    version: v1.0.3
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcs
            version: '>= 1.0.0'
    variables:
      - name: key_id
        moduleRef:
          id: kms
          output: guid
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        type: string
        description: The IBM Cloud api token
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
    version: v1.0.2
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcsr
            version: '>= 1.0.0'
    variables:
      - name: key_id
        moduleRef:
          id: kms
          output: guid
      - name: region
        moduleRef:
          id: kms
          output: location
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        type: string
        description: The IBM Cloud api token
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
    version: v1.0.1
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms: []
    dependencies:
      - id: kms
        refs:
          - source: github.com/ibm-garage-cloud/terraform-ibm-key-protect
            version: '>= 1.0.0'
          - source: github.com/ibm-garage-cloud/terraform-ibm-hpcsr
            version: '>= 1.0.0'
    variables:
      - name: key_id
        moduleRef:
          id: kms
          output: guid
      - name: region
        type: string
        description: The IBM Cloud region where the cluster will be/has been installed.
      - name: ibmcloud_api_key
        type: string
        description: The IBM Cloud api token
      - name: provision
        type: bool
        description: >-
          Flag indicating that the key should be provisioned. If false then an
          existing key will be looked up
        default: false
        optional: true
      - name: kms_id
        type: string
        description: The id of the kms instance. Required if kms_enabled is true
        default: ''
        optional: true
      - name: name
        type: string
        description: >-
          The name of the root key in the kms instance. Required if kms_enabled
          is true
        default: ''
        optional: true
    version: v1.0.0
    outputs:
      - name: id
        description: The id of the key
      - name: name
        description: The crn of the key
      - name: crn
        description: The crn of the key
      - name: kms_id
        description: The id of the kms instance
  - platforms:
      - kubernetes
      - ocp3
      - ocp4
    dependencies: []
    variables: []
    version: v0.0.0
